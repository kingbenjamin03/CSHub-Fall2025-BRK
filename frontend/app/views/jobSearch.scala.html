@import helper._
@import models._
@import models.Technology

@scripts = {
    <script type="text/javascript">

            function disableOtherFields() {
                var keywords = "" + document.getElementById("keywords").value;
                keywords = keywords.trim();
                if (keywords !== "") {
                    document.getElementById("keyword-msg").innerText = "Specifying keywords for search would disable other search criteria options.";
                    document.getElementById("title").disabled = true;
                    document.getElementById("title").value = "";
                    document.getElementById("description").disabled = true;
                    document.getElementById("description").value = "";

                    document.getElementById("location").disabled = true;
                    document.getElementById("location").value = "";
                    document.getElementById("goals").disabled = true;
                    document.getElementById("goals").value = ""

                } else {
                    document.getElementById("keyword-msg").innerText = "";
                    document.getElementById("title").disabled = false;
                    document.getElementById("description").disabled = false;
                    document.getElementById("location").disabled = false;
                    document.getElementById("goals").disabled = false;


                }
            }

            function validateSearch() {
                var keywords = document.getElementById("keywords")?.value.trim() || "";
                var title = document.getElementById("title")?.value.trim() || "";
                var description = document.getElementById("description")?.value.trim() || "";
                var location = document.getElementById("location")?.value.trim() || "";
                var goals = document.getElementById("goals")?.value.trim() || "";

                if (keywords === "" && title === "" && description === "" && location === "" && goals === "") {
                    alert("Please fill in at least one search criterion!");
                    return false;
                }
                return true;
            }

    </script>
}

@main("Search Job", scripts) {

    @helper.form(routes.JobController.searchPOST(1, "id"), 'onsubmit -> "return validateSearch();") {

        <div class="container">
            <div class="row">
                <div class="col s12 m10 offset-m1">
                    <div class="card-panel">
                        <form class="form-signin">
                            <h3 class="form-signin-heading" align="center">Search Job</h3>
                            <div class="row">
                                <div class="input-field col s12">
                                    <input type="text" name="keywords" id="keywords" onchange="disableOtherFields()">
                                    <label for="keywords">
                                        Keywords (Searching based on keywords, returns the jobs having the specified keywords in any part of the job details).</label>
                                    <div class="form-group" id="keyword-msg" style="color: blue;"></div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="input-field col s12">
                                    <input type="text" name="title" id="title">
                                    <label for="name">Job Title</label>
                                </div>
                            </div>

                            <div class="row">
                                <div class="input-field col s12">
                                    <input type="text" name="description" id="description">
                                    <label for="description">Description</label>
                                </div>
                            </div>


@*                            <div class="row">*@
@*                                <div class="input-field col s12">*@
@*                                    <input type="text" name="keywords" id="keywords">*@
@*                                    <label for="keywords">Keywords</label>*@
@*                                </div>*@
@*                            </div>*@

                            <div class="row">
                                <div class="input-field col s12">
                                    <input type="text" name="goals" id="goals">
                                    <label for="goals">Goals</label>
                                </div>
                            </div>


                            <div class="row">
                                <div class="input-field col s12">
                                    <div id="show" style="display: none;">
                                        <textarea class="materialize-textarea" id="content"></textarea>
                                    </div>
                                </div>
                            </div>


                            <div class="center">
                                <button id="search" class="hidden btn waves-effect waves-light blue darken-2" type="submit" value="Search">
                                    Search</button>
                                <a href="@routes.Application.home()" class="btn waves-effect waves-light red darken-2">
                                    Cancel</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    }
}